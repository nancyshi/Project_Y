{"version":3,"sources":["assets/scripts/singleInstanceSystems/bgmMgr.js"],"names":["BgmMgr","cc","Class","Component","properties","selectedSection","get","_selectedSection","set","value","toString","playBgm","section","audioEngine","stopAll","path","require","bgmPath","loader","loadRes","err","res","play","start","sharedBgmMgr","module","exports"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAIA,MAAM,GAAGC,EAAE,CAACC,KAAH,CAAS;AAClB,aAASD,EAAE,CAACE,SADM;AAGlBC,EAAAA,UAAU,EAAE;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,IAAAA,eAAe,EAAE;AACbC,MAAAA,GADa,iBACP;AACF,eAAO,KAAKC,gBAAZ;AACH,OAHY;AAIbC,MAAAA,GAJa,eAITC,KAJS,EAIF;AAEP,YAAIA,KAAK,CAACC,QAAN,MAAoB,KAAKL,eAA7B,EAA8C;AAC1C,eAAKM,OAAL,CAAaF,KAAb;AACH;;AACD,aAAKF,gBAAL,GAAwBE,KAAxB;AACH;AAVY;AAhBT,GAHM;AAiClBE,EAAAA,OAjCkB,mBAiCVC,OAjCU,EAiCD;AACbX,IAAAA,EAAE,CAACY,WAAH,CAAeC,OAAf;;AACA,QAAIC,IAAI,GAAGC,OAAO,CAAC,eAAD,CAAP,CAAyBJ,OAAO,CAACF,QAAR,EAAzB,EAA6CO,OAAxD;;AACAhB,IAAAA,EAAE,CAACiB,MAAH,CAAUC,OAAV,CAAkBJ,IAAlB,EAAuB,UAASK,GAAT,EAAaC,GAAb,EAAiB;AACpCpB,MAAAA,EAAE,CAACY,WAAH,CAAeS,IAAf,CAAoBD,GAApB,EAAwB,CAAxB,EAA0B,CAA1B;AACH,KAFD;AAGH,GAvCiB;AAwClB;AAEA;AAEAE,EAAAA,KA5CkB,mBA4CT,CAER,CA9CiB,CAgDlB;;AAhDkB,CAAT,CAAb;AAmDA,IAAIC,YAAY,GAAG,IAAIxB,MAAJ,EAAnB;AACAyB,MAAM,CAACC,OAAP,GAAiBF,YAAjB","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\n//  - https://docs.cocos.com/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nvar BgmMgr = cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //     // ATTRIBUTES:\n        //     default: null,        // The default value will be used only when the component attaching\n        //                           // to a node for the first time\n        //     type: cc.SpriteFrame, // optional, default is typeof default\n        //     serializable: true,   // optional, default is true\n        // },\n        // bar: {\n        //     get () {\n        //         return this._bar;\n        //     },\n        //     set (value) {\n        //         this._bar = value;\n        //     }\n        // },\n        selectedSection: {\n            get() {\n                return this._selectedSection\n            },\n            set(value) {\n                \n                if (value.toString() != this.selectedSection) {\n                    this.playBgm(value)\n                }\n                this._selectedSection = value\n            }\n        },\n    },\n\n    playBgm(section) {\n        cc.audioEngine.stopAll()\n        var path = require(\"sectionConfig\")[section.toString()].bgmPath\n        cc.loader.loadRes(path,function(err,res){\n            cc.audioEngine.play(res,1,1)\n        })\n    },\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start () {\n\n    },\n\n    // update (dt) {},\n});\n\nvar sharedBgmMgr = new BgmMgr()\nmodule.exports = sharedBgmMgr"]}