{"version":3,"sources":["assets/scripts/singleInstanceSystems/notificationMgr.js"],"names":["NotificationMgr","cc","Class","Component","properties","lastTime","moveTime","moveDis","noties","start","showNoti","str","notiPrefab","require","reses","notiSysPrefab","notiNode","instantiate","label","getChildByName","getComponent","Label","string","currentSceneCanvas","director","getScene","addChild","self","tween","by","y","delay","call","destroy","pushNoti","push","sharedNotificationMgr","module","exports"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAIA,eAAe,GAAGC,EAAE,CAACC,KAAH,CAAS;AAC3B,aAASD,EAAE,CAACE,SADe;AAG3BC,EAAAA,UAAU,EAAE;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,IAAAA,QAAQ,EAAE,CAhBF;AAiBRC,IAAAA,QAAQ,EAAE,GAjBF;AAkBRC,IAAAA,OAAO,EAAE,GAlBD;AAoBRC,IAAAA,MAAM,EAAE;AApBA,GAHe;AA0B3B;AAEA;AAEAC,EAAAA,KA9B2B,mBA8BlB,CAER,CAhC0B;AAkC3BC,EAAAA,QAlC2B,oBAkClBC,GAlCkB,EAkCb;AACV,QAAIC,UAAU,GAAGC,OAAO,CAAC,QAAD,CAAP,CAAkBC,KAAlB,CAAwBC,aAAzC;;AACA,QAAIC,QAAQ,GAAGf,EAAE,CAACgB,WAAH,CAAeL,UAAf,CAAf;AACA,QAAIM,KAAK,GAAGF,QAAQ,CAACG,cAAT,CAAwB,OAAxB,CAAZ;AACAD,IAAAA,KAAK,CAACE,YAAN,CAAmBnB,EAAE,CAACoB,KAAtB,EAA6BC,MAA7B,GAAsCX,GAAtC;AACA,QAAIY,kBAAkB,GAAGtB,EAAE,CAACuB,QAAH,CAAYC,QAAZ,GAAuBN,cAAvB,CAAsC,QAAtC,CAAzB;AACAI,IAAAA,kBAAkB,CAACG,QAAnB,CAA4BV,QAA5B;AACA,QAAIW,IAAI,GAAG,IAAX;AACA1B,IAAAA,EAAE,CAAC2B,KAAH,CAASZ,QAAT,EACKa,EADL,CACQF,IAAI,CAACrB,QADb,EACsB;AAACwB,MAAAA,CAAC,EAAEH,IAAI,CAACpB;AAAT,KADtB,EAEKwB,KAFL,CAEWJ,IAAI,CAACtB,QAAL,GAAgBsB,IAAI,CAACrB,QAFhC,EAGI;AAHJ,KAIK0B,IAJL,CAIU,YAAU;AACZhB,MAAAA,QAAQ,CAACiB,OAAT;AACH,KANL,EAOKxB,KAPL;AAQH,GAlD0B;AAoD3ByB,EAAAA,QApD2B,oBAoDlBvB,GApDkB,EAoDb;AACV,SAAKH,MAAL,CAAY2B,IAAZ,CAAiBxB,GAAjB;AACH,GAtD0B,CAuD3B;;AAvD2B,CAAT,CAAtB;AA0DA,IAAIyB,qBAAqB,GAAG,IAAIpC,eAAJ,EAA5B;AACAqC,MAAM,CAACC,OAAP,GAAiBF,qBAAjB","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nvar NotificationMgr = cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //     // ATTRIBUTES:\n        //     default: null,        // The default value will be used only when the component attaching\n        //                           // to a node for the first time\n        //     type: cc.SpriteFrame, // optional, default is typeof default\n        //     serializable: true,   // optional, default is true\n        // },\n        // bar: {\n        //     get () {\n        //         return this._bar;\n        //     },\n        //     set (value) {\n        //         this._bar = value;\n        //     }\n        // },\n        lastTime: 2,\n        moveTime: 0.5,\n        moveDis: 200,\n\n        noties: []\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start () {\n\n    },\n\n    showNoti(str) {\n        var notiPrefab = require(\"resMgr\").reses.notiSysPrefab\n        var notiNode = cc.instantiate(notiPrefab)\n        var label = notiNode.getChildByName(\"label\")\n        label.getComponent(cc.Label).string = str\n        var currentSceneCanvas = cc.director.getScene().getChildByName(\"Canvas\")\n        currentSceneCanvas.addChild(notiNode)\n        var self = this\n        cc.tween(notiNode)\n            .by(self.moveTime,{y: self.moveDis})\n            .delay(self.lastTime - self.moveTime)\n            //.to(0.3, {opacity: 0})\n            .call(function(){\n                notiNode.destroy()\n            })\n            .start()\n    },\n\n    pushNoti(str) {\n        this.noties.push(str)\n    }\n    // update (dt) {},\n});\n\nvar sharedNotificationMgr = new NotificationMgr()\nmodule.exports = sharedNotificationMgr"]}