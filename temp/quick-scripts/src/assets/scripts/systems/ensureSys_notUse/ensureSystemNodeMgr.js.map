{"version":3,"sources":["assets/scripts/systems/ensureSys_notUse/ensureSystemNodeMgr.js"],"names":["cc","Class","Component","properties","desText","get","_desText","set","value","desLabel","node","getChildByName","getComponent","Label","string","onEnsureButtonClick","onCancleButtonClick","canClose","_canClose","closeButtonNode","active","cancelButtonText","_cancelButtonText","cancelButtonNode","ensureButtonText","_ensureButtonText","ensureButtonNode","ensureButtonWillAutoCloseUi","cancelButtonWillAutoCloseUi","isExsistCancelButton","_isExsistCancelButton","x","onLoad","bg","on","winSize","width","height","others","close","onEnsure","onCancel","start","self","tween","to","scale","call","destroy","show","target","addChild"],"mappings":"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","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //     // ATTRIBUTES:\n        //     default: null,        // The default value will be used only when the component attaching\n        //                           // to a node for the first time\n        //     type: cc.SpriteFrame, // optional, default is typeof default\n        //     serializable: true,   // optional, default is true\n        // },\n        // bar: {\n        //     get () {\n        //         return this._bar;\n        //     },\n        //     set (value) {\n        //         this._bar = value;\n        //     }\n        // },\n        desText: {\n            get() {\n                if (this._desText == null) {\n                    this.desText = \"default value\"\n                }\n                return this._desText\n            },\n            set(value) {\n                this._desText = value\n                \n                var desLabel = this.node.getChildByName(\"others\").getChildByName(\"desLabel\")\n                desLabel.getComponent(cc.Label).string = value\n                \n            }\n        },\n        onEnsureButtonClick: null,\n        onCancleButtonClick: null,\n        canClose: {\n            get() {\n                return this._canClose\n            },\n            set(value) {\n                this._canClose = value\n                var closeButtonNode = this.node.getChildByName(\"others\").getChildByName(\"closeButton\")\n                closeButtonNode.active = value\n            }\n\n        },\n\n        cancelButtonText: {\n            get() {\n                return this._cancelButtonText\n            },\n            set(value) {\n                this._cancelButtonText = value\n                var cancelButtonNode = this.node.getChildByName(\"others\").getChildByName(\"cancelButton\")\n                cancelButtonNode.getChildByName(\"textLabel\").getComponent(cc.Label).string = value\n            }\n        },\n\n        ensureButtonText: {\n            get() {\n                return this._ensureButtonText\n            },\n            set(value) {\n                this._ensureButtonText = value\n                var ensureButtonNode = this.node.getChildByName(\"others\").getChildByName(\"ensureButton\")\n                ensureButtonNode.getChildByName(\"textLabel\").getComponent(cc.Label).string = value\n            }\n        },\n\n        ensureButtonWillAutoCloseUi: true,\n        cancelButtonWillAutoCloseUi: true,\n        isExsistCancelButton: {\n            get() {\n                if(this._isExsistCancelButton == null) {\n                    this._isExsistCancelButton = true\n                }\n                return this._isExsistCancelButton\n            },\n            set(value) {\n                this._isExsistCancelButton = value\n                if (value == false) {\n                    this.node.getChildByName(\"others\").getChildByName(\"cancelButton\").active = false\n                    this.node.getChildByName(\"others\").getChildByName(\"ensureButton\").x = 0\n                }\n            }\n        },\n        \n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        var bg = this.node.getChildByName(\"bg\")\n        bg.on(\"touchstart\",function(){},this)\n        var winSize = cc.winSize\n        bg.width = winSize.width\n        bg.height = winSize.height\n\n        var others = this.node.getChildByName(\"others\")\n        var closeButtonNode = others.getChildByName(\"closeButton\")\n        closeButtonNode.on(\"click\",this.close,this)\n        \n        var ensureButtonNode = others.getChildByName(\"ensureButton\")\n        ensureButtonNode.on(\"click\",this.onEnsure,this)\n        var cancelButtonNode = others.getChildByName(\"cancelButton\")\n        cancelButtonNode.on(\"click\",this.onCancel,this)\n    },\n\n    start () {\n\n    },\n    onEnsure() {\n        if (this.ensureButtonWillAutoCloseUi == true) {\n            this.close()\n        }\n        if (this.onEnsureButtonClick != null) {\n            this.onEnsureButtonClick()\n        }\n    },\n    onCancel(){\n        if (this.cancelButtonWillAutoCloseUi == true) {\n            this.close()\n        }\n        if (this.onCancleButtonClick != null) {\n            this.onCancleButtonClick()\n        }\n    },\n\n    close() {\n        var others = this.node.getChildByName(\"others\")\n        var self = this\n        cc.tween(others)\n            .to(0.3,{scale: 0})\n            .call(function(){\n                self.node.destroy()\n            })\n            .start()\n    },\n    show(target) {\n        var others = this.node.getChildByName(\"others\")\n        others.scale = 0\n        target.addChild(this.node)\n\n        cc.tween(others) \n            .to(0.3, {scale: 1})\n            .start()\n    },\n    // update (dt) {},\n});\n"]}