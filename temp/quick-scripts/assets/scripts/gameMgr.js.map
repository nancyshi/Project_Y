{"version":3,"sources":["gameMgr.js"],"names":["GameMgr","cc","Class","extends","Component","properties","start","enterLevelScene","givenLevel","levelForName","toString","length","levelName","self","director","preloadScene","err","res","levelMgr","scene","getChildByName","getComponent","level","animatedToScene","sceneName","currentScene","getScene","tween","children","to","opacity","delay","call","loadScene","gameMgr","module","exports"],"mappings":";;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,UAAUC,GAAGC,KAAH,CAAS;AACnBC,aAASF,GAAGG,SADO;;AAGnBC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfQ,KAHO;;AAqBnB;;AAEA;;AAEAC,SAzBmB,mBAyBV,CAER,CA3BkB;AA6BnBC,mBA7BmB,2BA6BHC,UA7BG,EA6BS;AACxB,YAAIC,eAAeD,UAAnB;AACI,gBAAOC,aAAaC,QAAb,GAAwBC,MAA/B;AACI,iBAAK,CAAL;AACIF,+BAAe,OAAOA,aAAaC,QAAb,EAAtB;AACA;AACJ,iBAAK,CAAL;AACID,+BAAe,MAAMA,aAAaC,QAAb,EAArB;AACA;AANR;AAQJ,YAAIE,YAAY,UAAUH,YAA1B;AACA,YAAII,OAAO,IAAX;AACAZ,WAAGa,QAAH,CAAYC,YAAZ,CAAyBH,SAAzB,EAAmC,IAAnC,EAAwC,UAASI,GAAT,EAAaC,GAAb,EAAiB;AACrD,gBAAIC,WAAWD,IAAIE,KAAJ,CAAUC,cAAV,CAAyB,QAAzB,EAAmCC,YAAnC,CAAgD,UAAhD,CAAf;AACAH,qBAASI,KAAT,GAAiBd,UAAjB;AACA;AACAK,iBAAKU,eAAL,CAAqBX,SAArB;AACH,SALD;AAMH,KA/CkB;AAiDnBW,mBAjDmB,2BAiDHC,SAjDG,EAiDQ;AACvB,YAAIC,eAAexB,GAAGa,QAAH,CAAYY,QAAZ,EAAnB;AACAzB,WAAG0B,KAAH,CAASF,aAAaG,QAAb,CAAsB,CAAtB,CAAT,EACKC,EADL,CACQ,GADR,EACY,EAACC,SAAS,CAAV,EADZ,EAEKC,KAFL,CAEW,CAFX,EAGKC,IAHL,CAGU,YAAU;AACZ/B,eAAGa,QAAH,CAAYC,YAAZ,CAAyBS,SAAzB,EAAmC,IAAnC,EAAwC,UAASR,GAAT,EAAaC,GAAb,EAAiB;AACrD,oBAAIE,QAAQF,IAAIE,KAAhB;AACAA,sBAAMS,QAAN,CAAe,CAAf,EAAkBE,OAAlB,GAA4B,CAA5B;AACA7B,mBAAGa,QAAH,CAAYmB,SAAZ,CAAsBT,SAAtB,EAAgC,YAAU;AACtCvB,uBAAG0B,KAAH,CAASR,MAAMS,QAAN,CAAe,CAAf,CAAT,EACKC,EADL,CACQ,GADR,EACY,EAACC,SAAS,GAAV,EADZ,EAEKxB,KAFL;AAGH,iBAJD;AAKH,aARD;AASH,SAbL,EAcKA,KAdL;AAeH;;AAED;;AApEmB,CAAT,CAAd;;AAuEA,IAAI4B,UAAU,IAAIlC,OAAJ,EAAd;AACAmC,OAAOC,OAAP,GAAiBF,OAAjB","file":"gameMgr.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["\n// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nvar GameMgr = cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //     // ATTRIBUTES:\n        //     default: null,        // The default value will be used only when the component attaching\n        //                           // to a node for the first time\n        //     type: cc.SpriteFrame, // optional, default is typeof default\n        //     serializable: true,   // optional, default is true\n        // },\n        // bar: {\n        //     get () {\n        //         return this._bar;\n        //     },\n        //     set (value) {\n        //         this._bar = value;\n        //     }\n        // },\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start () {\n\n    },\n\n    enterLevelScene(givenLevel) {\n        var levelForName = givenLevel\n            switch(levelForName.toString().length){\n                case 1:\n                    levelForName = \"00\" + levelForName.toString()\n                    break\n                case 2:\n                    levelForName = \"0\" + levelForName.toString()\n                    break\n            }\n        var levelName = \"level\" + levelForName\n        var self = this\n        cc.director.preloadScene(levelName,null,function(err,res){\n            var levelMgr = res.scene.getChildByName(\"Canvas\").getComponent(\"levelMgr\")\n            levelMgr.level = givenLevel\n            // cc.director.loadScene(levelName)\n            self.animatedToScene(levelName)\n        })\n    },\n\n    animatedToScene(sceneName) {\n        var currentScene = cc.director.getScene()\n        cc.tween(currentScene.children[0])\n            .to(0.5,{opacity: 0})\n            .delay(1)\n            .call(function(){\n                cc.director.preloadScene(sceneName,null,function(err,res){\n                    var scene = res.scene\n                    scene.children[0].opacity = 0\n                    cc.director.loadScene(sceneName,function(){\n                        cc.tween(scene.children[0])\n                            .to(0.5,{opacity: 255})\n                            .start()\n                    })\n                })\n            })\n            .start()\n    }\n    \n    // update (dt) {},\n});\n\nvar gameMgr = new GameMgr()\nmodule.exports = gameMgr"]}