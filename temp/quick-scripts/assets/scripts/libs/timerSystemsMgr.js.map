{"version":3,"sources":["timerSystemsMgr.js"],"names":["TimerSystemsMgr","cc","Class","extends","Component","properties","signInSysTimer","get","_signInSysTimer","set","value","signInSystem","require","onTimerReach","timers","start","initSetup","push","playerData","signInRefreshDelta","lunch","schedule","timerUpdate","index","oneTimer","stop","unschedule","sharedTimerSystemsMgr","module","exports"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,kBAAkBC,GAAGC,KAAH,CAAS;AAC3BC,aAASF,GAAGG,SADe;;AAG3BC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,wBAAgB;AACZC,eADY,iBACN;AACF,uBAAO,KAAKC,eAAZ;AACH,aAHW;AAIZC,eAJY,eAIRC,KAJQ,EAID;AACP,qBAAKF,eAAL,GAAuBE,KAAvB;AACA,oBAAIA,SAAS,CAAb,EAAgB;AACZ,wBAAIC,eAAeC,QAAQ,cAAR,CAAnB;AACAD,iCAAaE,YAAb;AACH;AACJ;AAVW,SAhBR;;AA6BRC,gBAAQ;AA7BA,KAHe;;AAmC3B;;AAEA;;AAEAC,SAvC2B,mBAuClB,CAER,CAzC0B;AA0C3BC,aA1C2B,uBA0ChB;AACP,aAAKF,MAAL,CAAYG,IAAZ,CAAiB,KAAKX,cAAtB;AACA,aAAKA,cAAL,GAAsBM,QAAQ,SAAR,EAAmBM,UAAnB,CAA8BC,kBAApD;AACH,KA7C0B;AA8C3BC,SA9C2B,mBA8CpB;AACH,aAAKC,QAAL,CAAc,KAAKC,WAAnB,EAAgC,CAAhC;AACH,KAhD0B;AAkD3BA,eAlD2B,yBAkDb;AACV,aAAK,IAAIC,KAAT,IAAkB,KAAKT,MAAvB,EAA+B;AAC3B,gBAAIU,WAAW,KAAKV,MAAL,CAAYS,KAAZ,CAAf;AACA,gBAAIC,WAAW,CAAf,EAAkB;AACdA,4BAAY,CAAZ;AACH;AACJ;AACJ,KAzD0B;AA2D3BC,QA3D2B,kBA2DrB;AACF,aAAKC,UAAL,CAAgB,KAAKJ,WAArB,EAAiC,IAAjC;AACH;AA7D0B,CAAT,CAAtB;;AAiEA,IAAIK,wBAAwB,IAAI3B,eAAJ,EAA5B;AACA4B,OAAOC,OAAP,GAAiBF,qBAAjB","file":"timerSystemsMgr.js","sourceRoot":"../../../../../assets/scripts/libs","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nvar TimerSystemsMgr = cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //     // ATTRIBUTES:\n        //     default: null,        // The default value will be used only when the component attaching\n        //                           // to a node for the first time\n        //     type: cc.SpriteFrame, // optional, default is typeof default\n        //     serializable: true,   // optional, default is true\n        // },\n        // bar: {\n        //     get () {\n        //         return this._bar;\n        //     },\n        //     set (value) {\n        //         this._bar = value;\n        //     }\n        // },\n        signInSysTimer: {\n            get() {\n                return this._signInSysTimer\n            },\n            set(value) {\n                this._signInSysTimer = value\n                if (value <= 0) {\n                    var signInSystem = require(\"signInSystem\")\n                    signInSystem.onTimerReach()\n                }\n            }\n        },\n\n        timers: []\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start () {\n\n    },\n    initSetup(){\n        this.timers.push(this.signInSysTimer)\n        this.signInSysTimer = require(\"dataMgr\").playerData.signInRefreshDelta\n    },\n    lunch(){\n        this.schedule(this.timerUpdate, 1)\n    },\n\n    timerUpdate() {\n        for (var index in this.timers) {\n            var oneTimer = this.timers[index]\n            if (oneTimer > 0) {\n                oneTimer -= 1\n            }\n        }\n    },\n\n    stop(){\n        this.unschedule(this.timerUpdate,this)\n    }\n    \n});\n\nvar sharedTimerSystemsMgr = new TimerSystemsMgr()\nmodule.exports = sharedTimerSystemsMgr"]}