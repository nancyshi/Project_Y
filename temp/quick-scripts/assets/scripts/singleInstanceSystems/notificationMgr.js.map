{"version":3,"sources":["notificationMgr.js"],"names":["NotificationMgr","cc","Class","extends","Component","properties","lastTime","moveTime","moveDis","noties","start","showNoti","str","notiPrefab","require","reses","notiSysPrefab","notiNode","instantiate","label","getChildByName","getComponent","Label","string","currentSceneCanvas","director","getScene","addChild","self","tween","by","y","delay","call","destroy","pushNoti","push","sharedNotificationMgr","module","exports"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,kBAAkBC,GAAGC,KAAH,CAAS;AAC3BC,aAASF,GAAGG,SADe;;AAG3BC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,kBAAU,CAhBF;AAiBRC,kBAAU,GAjBF;AAkBRC,iBAAS,GAlBD;;AAoBRC,gBAAQ;AApBA,KAHe;;AA0B3B;;AAEA;;AAEAC,SA9B2B,mBA8BlB,CAER,CAhC0B;AAkC3BC,YAlC2B,oBAkClBC,GAlCkB,EAkCb;AACV,YAAIC,aAAaC,QAAQ,QAAR,EAAkBC,KAAlB,CAAwBC,aAAzC;AACA,YAAIC,WAAWhB,GAAGiB,WAAH,CAAeL,UAAf,CAAf;AACA,YAAIM,QAAQF,SAASG,cAAT,CAAwB,OAAxB,CAAZ;AACAD,cAAME,YAAN,CAAmBpB,GAAGqB,KAAtB,EAA6BC,MAA7B,GAAsCX,GAAtC;AACA,YAAIY,qBAAqBvB,GAAGwB,QAAH,CAAYC,QAAZ,GAAuBN,cAAvB,CAAsC,QAAtC,CAAzB;AACAI,2BAAmBG,QAAnB,CAA4BV,QAA5B;AACA,YAAIW,OAAO,IAAX;AACA3B,WAAG4B,KAAH,CAASZ,QAAT,EACKa,EADL,CACQF,KAAKrB,QADb,EACsB,EAACwB,GAAGH,KAAKpB,OAAT,EADtB,EAEKwB,KAFL,CAEWJ,KAAKtB,QAAL,GAAgBsB,KAAKrB,QAFhC;AAGI;AAHJ,SAIK0B,IAJL,CAIU,YAAU;AACZhB,qBAASiB,OAAT;AACH,SANL,EAOKxB,KAPL;AAQH,KAlD0B;AAoD3ByB,YApD2B,oBAoDlBvB,GApDkB,EAoDb;AACV,aAAKH,MAAL,CAAY2B,IAAZ,CAAiBxB,GAAjB;AACH;AACD;;AAvD2B,CAAT,CAAtB;;AA0DA,IAAIyB,wBAAwB,IAAIrC,eAAJ,EAA5B;AACAsC,OAAOC,OAAP,GAAiBF,qBAAjB","file":"notificationMgr.js","sourceRoot":"../../../../../assets/scripts/singleInstanceSystems","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nvar NotificationMgr = cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //     // ATTRIBUTES:\n        //     default: null,        // The default value will be used only when the component attaching\n        //                           // to a node for the first time\n        //     type: cc.SpriteFrame, // optional, default is typeof default\n        //     serializable: true,   // optional, default is true\n        // },\n        // bar: {\n        //     get () {\n        //         return this._bar;\n        //     },\n        //     set (value) {\n        //         this._bar = value;\n        //     }\n        // },\n        lastTime: 2,\n        moveTime: 0.5,\n        moveDis: 200,\n\n        noties: []\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start () {\n\n    },\n\n    showNoti(str) {\n        var notiPrefab = require(\"resMgr\").reses.notiSysPrefab\n        var notiNode = cc.instantiate(notiPrefab)\n        var label = notiNode.getChildByName(\"label\")\n        label.getComponent(cc.Label).string = str\n        var currentSceneCanvas = cc.director.getScene().getChildByName(\"Canvas\")\n        currentSceneCanvas.addChild(notiNode)\n        var self = this\n        cc.tween(notiNode)\n            .by(self.moveTime,{y: self.moveDis})\n            .delay(self.lastTime - self.moveTime)\n            //.to(0.3, {opacity: 0})\n            .call(function(){\n                notiNode.destroy()\n            })\n            .start()\n    },\n\n    pushNoti(str) {\n        this.noties.push(str)\n    }\n    // update (dt) {},\n});\n\nvar sharedNotificationMgr = new NotificationMgr()\nmodule.exports = sharedNotificationMgr"]}